{"ast":null,"code":"// import React, { useEffect, useState } from \"react\";\n// import { useHistory } from \"react-router-dom\";\n// import jwt from 'jsonwebtoken'\n// const Welcome = () => {\n//     const history = useHistory()\n//     const [quote, setQuote] = useState('')\n//     const [tempQuote, setTempQuote] = useState('')\n//     async function populateQuote(){\n//         const req = await fetch('http://localhost:5001/api/quote', {\n//             headers: {\n//                 'x-access-token': localStorage.getItem('token')\n//             }\n//         })\n//         const data = await req.json()\n//         if(data.status === 'ok'){\n//             setQuote(data.quote)\n//         } else {\n//             alert(data.error)\n//         }\n//     }\n//     useEffect(()=>{\n//         const token = localStorage.getItem('token')\n//         if (token) {\n//             const user = jwt.decode(token)\n//             if(!user) {\n//                 localStorage.removeItem('token')\n//                 history.replace('/login')\n//             } else {\n//                 populateQuote()\n//             }\n//         }\n//     })\n//     async function updateQuote(){\n//         const req = await fetch('http://localhost:5001/api/quote', {\n//             method: 'POST',\n//             headers: {\n//                 'Content-Type': 'application/json',\n//                 'x-access-token': localStorage.getItem('token')\n//             },\n//             body: JSON.stringify({\n//                quote: tempQuote,\n//             })\n//         })\n//         const data = await req.json()\n//         if(data.status === 'ok'){\n//             setTempQuote('')\n//             setQuote(data.quote)\n//         } else {\n//             alert(data.error)\n//         }\n//     }\n//     return (\n//     <div>\n//         <h1>Welcome to the Review Page: {quote || \"No quote found\"}</h1>\n//         <form onSubmit={updateQuote}>\n//             <input \n//                 type=\"text\"\n//                 placeholder=\"Leave your review!\" \n//                 value={tempQuote} \n//                 onChange={(e => setTempQuote(e.target.value))}\n//              />\n//              <input type=\"submit\" value='Leave a Review' />\n//         </form>\n//     </div>\n//     )\n// }\n// export default Welcome","map":{"version":3,"names":[],"sources":["E:/Projects/movie-review2/client/src/components/pages/Welcome.js"],"sourcesContent":["// import React, { useEffect, useState } from \"react\";\r\n// import { useHistory } from \"react-router-dom\";\r\n// import jwt from 'jsonwebtoken'\r\n\r\n// const Welcome = () => {\r\n//     const history = useHistory()\r\n//     const [quote, setQuote] = useState('')\r\n//     const [tempQuote, setTempQuote] = useState('')\r\n\r\n\r\n//     async function populateQuote(){\r\n//         const req = await fetch('http://localhost:5001/api/quote', {\r\n//             headers: {\r\n//                 'x-access-token': localStorage.getItem('token')\r\n//             }\r\n//         })\r\n\r\n//         const data = await req.json()\r\n//         if(data.status === 'ok'){\r\n//             setQuote(data.quote)\r\n//         } else {\r\n//             alert(data.error)\r\n//         }\r\n\r\n//     }\r\n\r\n//     useEffect(()=>{\r\n//         const token = localStorage.getItem('token')\r\n//         if (token) {\r\n//             const user = jwt.decode(token)\r\n//             if(!user) {\r\n//                 localStorage.removeItem('token')\r\n//                 history.replace('/login')\r\n//             } else {\r\n//                 populateQuote()\r\n//             }\r\n//         }\r\n\r\n//     })\r\n\r\n//     async function updateQuote(){\r\n//         const req = await fetch('http://localhost:5001/api/quote', {\r\n//             method: 'POST',\r\n//             headers: {\r\n//                 'Content-Type': 'application/json',\r\n//                 'x-access-token': localStorage.getItem('token')\r\n//             },\r\n//             body: JSON.stringify({\r\n//                quote: tempQuote,\r\n//             })\r\n//         })\r\n\r\n//         const data = await req.json()\r\n//         if(data.status === 'ok'){\r\n//             setTempQuote('')\r\n//             setQuote(data.quote)\r\n//         } else {\r\n//             alert(data.error)\r\n//         }\r\n//     }\r\n\r\n//     return (\r\n//     <div>\r\n//         <h1>Welcome to the Review Page: {quote || \"No quote found\"}</h1>\r\n//         <form onSubmit={updateQuote}>\r\n//             <input \r\n//                 type=\"text\"\r\n//                 placeholder=\"Leave your review!\" \r\n//                 value={tempQuote} \r\n//                 onChange={(e => setTempQuote(e.target.value))}\r\n//              />\r\n//              <input type=\"submit\" value='Leave a Review' />\r\n//         </form>\r\n//     </div>\r\n//     )\r\n// }\r\n\r\n// export default Welcome"],"mappings":"AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA"},"metadata":{},"sourceType":"module"}