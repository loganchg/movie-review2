{"ast":null,"code":"var bufferEqual = require('buffer-equal-constant-time');\n\nvar Buffer = require('safe-buffer').Buffer;\n\nvar crypto = require('crypto');\n\nvar formatEcdsa = require('ecdsa-sig-formatter');\n\nvar util = require('util');\n\nvar MSG_INVALID_ALGORITHM = '\"%s\" is not a valid algorithm.\\n  Supported algorithms are:\\n  \"HS256\", \"HS384\", \"HS512\", \"RS256\", \"RS384\", \"RS512\", \"PS256\", \"PS384\", \"PS512\", \"ES256\", \"ES384\", \"ES512\" and \"none\".';\nvar MSG_INVALID_SECRET = 'secret must be a string or buffer';\nvar MSG_INVALID_VERIFIER_KEY = 'key must be a string or a buffer';\nvar MSG_INVALID_SIGNER_KEY = 'key must be a string, a buffer or an object';\nvar supportsKeyObjects = typeof crypto.createPublicKey === 'function';\n\nif (supportsKeyObjects) {\n  MSG_INVALID_VERIFIER_KEY += ' or a KeyObject';\n  MSG_INVALID_SECRET += 'or a KeyObject';\n}\n\nfunction checkIsPublicKey(key) {\n  if (Buffer.isBuffer(key)) {\n    return;\n  }\n\n  if (typeof key === 'string') {\n    return;\n  }\n\n  if (!supportsKeyObjects) {\n    throw typeError(MSG_INVALID_VERIFIER_KEY);\n  }\n\n  if (typeof key !== 'object') {\n    throw typeError(MSG_INVALID_VERIFIER_KEY);\n  }\n\n  if (typeof key.type !== 'string') {\n    throw typeError(MSG_INVALID_VERIFIER_KEY);\n  }\n\n  if (typeof key.asymmetricKeyType !== 'string') {\n    throw typeError(MSG_INVALID_VERIFIER_KEY);\n  }\n\n  if (typeof key.export !== 'function') {\n    throw typeError(MSG_INVALID_VERIFIER_KEY);\n  }\n}\n\n;\n\nfunction checkIsPrivateKey(key) {\n  if (Buffer.isBuffer(key)) {\n    return;\n  }\n\n  if (typeof key === 'string') {\n    return;\n  }\n\n  if (typeof key === 'object') {\n    return;\n  }\n\n  throw typeError(MSG_INVALID_SIGNER_KEY);\n}\n\n;\n\nfunction checkIsSecretKey(key) {\n  if (Buffer.isBuffer(key)) {\n    return;\n  }\n\n  if (typeof key === 'string') {\n    return key;\n  }\n\n  if (!supportsKeyObjects) {\n    throw typeError(MSG_INVALID_SECRET);\n  }\n\n  if (typeof key !== 'object') {\n    throw typeError(MSG_INVALID_SECRET);\n  }\n\n  if (key.type !== 'secret') {\n    throw typeError(MSG_INVALID_SECRET);\n  }\n\n  if (typeof key.export !== 'function') {\n    throw typeError(MSG_INVALID_SECRET);\n  }\n}\n\nfunction fromBase64(base64) {\n  return base64.replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n}\n\nfunction toBase64(base64url) {\n  base64url = base64url.toString();\n  var padding = 4 - base64url.length % 4;\n\n  if (padding !== 4) {\n    for (var i = 0; i < padding; ++i) {\n      base64url += '=';\n    }\n  }\n\n  return base64url.replace(/\\-/g, '+').replace(/_/g, '/');\n}\n\nfunction typeError(template) {\n  var args = [].slice.call(arguments, 1);\n  var errMsg = util.format.bind(util, template).apply(null, args);\n  return new TypeError(errMsg);\n}\n\nfunction bufferOrString(obj) {\n  return Buffer.isBuffer(obj) || typeof obj === 'string';\n}\n\nfunction normalizeInput(thing) {\n  if (!bufferOrString(thing)) thing = JSON.stringify(thing);\n  return thing;\n}\n\nfunction createHmacSigner(bits) {\n  return function sign(thing, secret) {\n    checkIsSecretKey(secret);\n    thing = normalizeInput(thing);\n    var hmac = crypto.createHmac('sha' + bits, secret);\n    var sig = (hmac.update(thing), hmac.digest('base64'));\n    return fromBase64(sig);\n  };\n}\n\nfunction createHmacVerifier(bits) {\n  return function verify(thing, signature, secret) {\n    var computedSig = createHmacSigner(bits)(thing, secret);\n    return bufferEqual(Buffer.from(signature), Buffer.from(computedSig));\n  };\n}\n\nfunction createKeySigner(bits) {\n  return function sign(thing, privateKey) {\n    checkIsPrivateKey(privateKey);\n    thing = normalizeInput(thing); // Even though we are specifying \"RSA\" here, this works with ECDSA\n    // keys as well.\n\n    var signer = crypto.createSign('RSA-SHA' + bits);\n    var sig = (signer.update(thing), signer.sign(privateKey, 'base64'));\n    return fromBase64(sig);\n  };\n}\n\nfunction createKeyVerifier(bits) {\n  return function verify(thing, signature, publicKey) {\n    checkIsPublicKey(publicKey);\n    thing = normalizeInput(thing);\n    signature = toBase64(signature);\n    var verifier = crypto.createVerify('RSA-SHA' + bits);\n    verifier.update(thing);\n    return verifier.verify(publicKey, signature, 'base64');\n  };\n}\n\nfunction createPSSKeySigner(bits) {\n  return function sign(thing, privateKey) {\n    checkIsPrivateKey(privateKey);\n    thing = normalizeInput(thing);\n    var signer = crypto.createSign('RSA-SHA' + bits);\n    var sig = (signer.update(thing), signer.sign({\n      key: privateKey,\n      padding: crypto.constants.RSA_PKCS1_PSS_PADDING,\n      saltLength: crypto.constants.RSA_PSS_SALTLEN_DIGEST\n    }, 'base64'));\n    return fromBase64(sig);\n  };\n}\n\nfunction createPSSKeyVerifier(bits) {\n  return function verify(thing, signature, publicKey) {\n    checkIsPublicKey(publicKey);\n    thing = normalizeInput(thing);\n    signature = toBase64(signature);\n    var verifier = crypto.createVerify('RSA-SHA' + bits);\n    verifier.update(thing);\n    return verifier.verify({\n      key: publicKey,\n      padding: crypto.constants.RSA_PKCS1_PSS_PADDING,\n      saltLength: crypto.constants.RSA_PSS_SALTLEN_DIGEST\n    }, signature, 'base64');\n  };\n}\n\nfunction createECDSASigner(bits) {\n  var inner = createKeySigner(bits);\n  return function sign() {\n    var signature = inner.apply(null, arguments);\n    signature = formatEcdsa.derToJose(signature, 'ES' + bits);\n    return signature;\n  };\n}\n\nfunction createECDSAVerifer(bits) {\n  var inner = createKeyVerifier(bits);\n  return function verify(thing, signature, publicKey) {\n    signature = formatEcdsa.joseToDer(signature, 'ES' + bits).toString('base64');\n    var result = inner(thing, signature, publicKey);\n    return result;\n  };\n}\n\nfunction createNoneSigner() {\n  return function sign() {\n    return '';\n  };\n}\n\nfunction createNoneVerifier() {\n  return function verify(thing, signature) {\n    return signature === '';\n  };\n}\n\nmodule.exports = function jwa(algorithm) {\n  var signerFactories = {\n    hs: createHmacSigner,\n    rs: createKeySigner,\n    ps: createPSSKeySigner,\n    es: createECDSASigner,\n    none: createNoneSigner\n  };\n  var verifierFactories = {\n    hs: createHmacVerifier,\n    rs: createKeyVerifier,\n    ps: createPSSKeyVerifier,\n    es: createECDSAVerifer,\n    none: createNoneVerifier\n  };\n  var match = algorithm.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);\n  if (!match) throw typeError(MSG_INVALID_ALGORITHM, algorithm);\n  var algo = (match[1] || match[3]).toLowerCase();\n  var bits = match[2];\n  return {\n    sign: signerFactories[algo](bits),\n    verify: verifierFactories[algo](bits)\n  };\n};","map":{"version":3,"names":["bufferEqual","require","Buffer","crypto","formatEcdsa","util","MSG_INVALID_ALGORITHM","MSG_INVALID_SECRET","MSG_INVALID_VERIFIER_KEY","MSG_INVALID_SIGNER_KEY","supportsKeyObjects","createPublicKey","checkIsPublicKey","key","isBuffer","typeError","type","asymmetricKeyType","export","checkIsPrivateKey","checkIsSecretKey","fromBase64","base64","replace","toBase64","base64url","toString","padding","length","i","template","args","slice","call","arguments","errMsg","format","bind","apply","TypeError","bufferOrString","obj","normalizeInput","thing","JSON","stringify","createHmacSigner","bits","sign","secret","hmac","createHmac","sig","update","digest","createHmacVerifier","verify","signature","computedSig","from","createKeySigner","privateKey","signer","createSign","createKeyVerifier","publicKey","verifier","createVerify","createPSSKeySigner","constants","RSA_PKCS1_PSS_PADDING","saltLength","RSA_PSS_SALTLEN_DIGEST","createPSSKeyVerifier","createECDSASigner","inner","derToJose","createECDSAVerifer","joseToDer","result","createNoneSigner","createNoneVerifier","module","exports","jwa","algorithm","signerFactories","hs","rs","ps","es","none","verifierFactories","match","algo","toLowerCase"],"sources":["E:/Projects/movie-review2/client/node_modules/jwa/index.js"],"sourcesContent":["var bufferEqual = require('buffer-equal-constant-time');\r\nvar Buffer = require('safe-buffer').Buffer;\r\nvar crypto = require('crypto');\r\nvar formatEcdsa = require('ecdsa-sig-formatter');\r\nvar util = require('util');\r\n\r\nvar MSG_INVALID_ALGORITHM = '\"%s\" is not a valid algorithm.\\n  Supported algorithms are:\\n  \"HS256\", \"HS384\", \"HS512\", \"RS256\", \"RS384\", \"RS512\", \"PS256\", \"PS384\", \"PS512\", \"ES256\", \"ES384\", \"ES512\" and \"none\".'\r\nvar MSG_INVALID_SECRET = 'secret must be a string or buffer';\r\nvar MSG_INVALID_VERIFIER_KEY = 'key must be a string or a buffer';\r\nvar MSG_INVALID_SIGNER_KEY = 'key must be a string, a buffer or an object';\r\n\r\nvar supportsKeyObjects = typeof crypto.createPublicKey === 'function';\r\nif (supportsKeyObjects) {\r\n  MSG_INVALID_VERIFIER_KEY += ' or a KeyObject';\r\n  MSG_INVALID_SECRET += 'or a KeyObject';\r\n}\r\n\r\nfunction checkIsPublicKey(key) {\r\n  if (Buffer.isBuffer(key)) {\r\n    return;\r\n  }\r\n\r\n  if (typeof key === 'string') {\r\n    return;\r\n  }\r\n\r\n  if (!supportsKeyObjects) {\r\n    throw typeError(MSG_INVALID_VERIFIER_KEY);\r\n  }\r\n\r\n  if (typeof key !== 'object') {\r\n    throw typeError(MSG_INVALID_VERIFIER_KEY);\r\n  }\r\n\r\n  if (typeof key.type !== 'string') {\r\n    throw typeError(MSG_INVALID_VERIFIER_KEY);\r\n  }\r\n\r\n  if (typeof key.asymmetricKeyType !== 'string') {\r\n    throw typeError(MSG_INVALID_VERIFIER_KEY);\r\n  }\r\n\r\n  if (typeof key.export !== 'function') {\r\n    throw typeError(MSG_INVALID_VERIFIER_KEY);\r\n  }\r\n};\r\n\r\nfunction checkIsPrivateKey(key) {\r\n  if (Buffer.isBuffer(key)) {\r\n    return;\r\n  }\r\n\r\n  if (typeof key === 'string') {\r\n    return;\r\n  }\r\n\r\n  if (typeof key === 'object') {\r\n    return;\r\n  }\r\n\r\n  throw typeError(MSG_INVALID_SIGNER_KEY);\r\n};\r\n\r\nfunction checkIsSecretKey(key) {\r\n  if (Buffer.isBuffer(key)) {\r\n    return;\r\n  }\r\n\r\n  if (typeof key === 'string') {\r\n    return key;\r\n  }\r\n\r\n  if (!supportsKeyObjects) {\r\n    throw typeError(MSG_INVALID_SECRET);\r\n  }\r\n\r\n  if (typeof key !== 'object') {\r\n    throw typeError(MSG_INVALID_SECRET);\r\n  }\r\n\r\n  if (key.type !== 'secret') {\r\n    throw typeError(MSG_INVALID_SECRET);\r\n  }\r\n\r\n  if (typeof key.export !== 'function') {\r\n    throw typeError(MSG_INVALID_SECRET);\r\n  }\r\n}\r\n\r\nfunction fromBase64(base64) {\r\n  return base64\r\n    .replace(/=/g, '')\r\n    .replace(/\\+/g, '-')\r\n    .replace(/\\//g, '_');\r\n}\r\n\r\nfunction toBase64(base64url) {\r\n  base64url = base64url.toString();\r\n\r\n  var padding = 4 - base64url.length % 4;\r\n  if (padding !== 4) {\r\n    for (var i = 0; i < padding; ++i) {\r\n      base64url += '=';\r\n    }\r\n  }\r\n\r\n  return base64url\r\n    .replace(/\\-/g, '+')\r\n    .replace(/_/g, '/');\r\n}\r\n\r\nfunction typeError(template) {\r\n  var args = [].slice.call(arguments, 1);\r\n  var errMsg = util.format.bind(util, template).apply(null, args);\r\n  return new TypeError(errMsg);\r\n}\r\n\r\nfunction bufferOrString(obj) {\r\n  return Buffer.isBuffer(obj) || typeof obj === 'string';\r\n}\r\n\r\nfunction normalizeInput(thing) {\r\n  if (!bufferOrString(thing))\r\n    thing = JSON.stringify(thing);\r\n  return thing;\r\n}\r\n\r\nfunction createHmacSigner(bits) {\r\n  return function sign(thing, secret) {\r\n    checkIsSecretKey(secret);\r\n    thing = normalizeInput(thing);\r\n    var hmac = crypto.createHmac('sha' + bits, secret);\r\n    var sig = (hmac.update(thing), hmac.digest('base64'))\r\n    return fromBase64(sig);\r\n  }\r\n}\r\n\r\nfunction createHmacVerifier(bits) {\r\n  return function verify(thing, signature, secret) {\r\n    var computedSig = createHmacSigner(bits)(thing, secret);\r\n    return bufferEqual(Buffer.from(signature), Buffer.from(computedSig));\r\n  }\r\n}\r\n\r\nfunction createKeySigner(bits) {\r\n return function sign(thing, privateKey) {\r\n    checkIsPrivateKey(privateKey);\r\n    thing = normalizeInput(thing);\r\n    // Even though we are specifying \"RSA\" here, this works with ECDSA\r\n    // keys as well.\r\n    var signer = crypto.createSign('RSA-SHA' + bits);\r\n    var sig = (signer.update(thing), signer.sign(privateKey, 'base64'));\r\n    return fromBase64(sig);\r\n  }\r\n}\r\n\r\nfunction createKeyVerifier(bits) {\r\n  return function verify(thing, signature, publicKey) {\r\n    checkIsPublicKey(publicKey);\r\n    thing = normalizeInput(thing);\r\n    signature = toBase64(signature);\r\n    var verifier = crypto.createVerify('RSA-SHA' + bits);\r\n    verifier.update(thing);\r\n    return verifier.verify(publicKey, signature, 'base64');\r\n  }\r\n}\r\n\r\nfunction createPSSKeySigner(bits) {\r\n  return function sign(thing, privateKey) {\r\n    checkIsPrivateKey(privateKey);\r\n    thing = normalizeInput(thing);\r\n    var signer = crypto.createSign('RSA-SHA' + bits);\r\n    var sig = (signer.update(thing), signer.sign({\r\n      key: privateKey,\r\n      padding: crypto.constants.RSA_PKCS1_PSS_PADDING,\r\n      saltLength: crypto.constants.RSA_PSS_SALTLEN_DIGEST\r\n    }, 'base64'));\r\n    return fromBase64(sig);\r\n  }\r\n}\r\n\r\nfunction createPSSKeyVerifier(bits) {\r\n  return function verify(thing, signature, publicKey) {\r\n    checkIsPublicKey(publicKey);\r\n    thing = normalizeInput(thing);\r\n    signature = toBase64(signature);\r\n    var verifier = crypto.createVerify('RSA-SHA' + bits);\r\n    verifier.update(thing);\r\n    return verifier.verify({\r\n      key: publicKey,\r\n      padding: crypto.constants.RSA_PKCS1_PSS_PADDING,\r\n      saltLength: crypto.constants.RSA_PSS_SALTLEN_DIGEST\r\n    }, signature, 'base64');\r\n  }\r\n}\r\n\r\nfunction createECDSASigner(bits) {\r\n  var inner = createKeySigner(bits);\r\n  return function sign() {\r\n    var signature = inner.apply(null, arguments);\r\n    signature = formatEcdsa.derToJose(signature, 'ES' + bits);\r\n    return signature;\r\n  };\r\n}\r\n\r\nfunction createECDSAVerifer(bits) {\r\n  var inner = createKeyVerifier(bits);\r\n  return function verify(thing, signature, publicKey) {\r\n    signature = formatEcdsa.joseToDer(signature, 'ES' + bits).toString('base64');\r\n    var result = inner(thing, signature, publicKey);\r\n    return result;\r\n  };\r\n}\r\n\r\nfunction createNoneSigner() {\r\n  return function sign() {\r\n    return '';\r\n  }\r\n}\r\n\r\nfunction createNoneVerifier() {\r\n  return function verify(thing, signature) {\r\n    return signature === '';\r\n  }\r\n}\r\n\r\nmodule.exports = function jwa(algorithm) {\r\n  var signerFactories = {\r\n    hs: createHmacSigner,\r\n    rs: createKeySigner,\r\n    ps: createPSSKeySigner,\r\n    es: createECDSASigner,\r\n    none: createNoneSigner,\r\n  }\r\n  var verifierFactories = {\r\n    hs: createHmacVerifier,\r\n    rs: createKeyVerifier,\r\n    ps: createPSSKeyVerifier,\r\n    es: createECDSAVerifer,\r\n    none: createNoneVerifier,\r\n  }\r\n  var match = algorithm.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);\r\n  if (!match)\r\n    throw typeError(MSG_INVALID_ALGORITHM, algorithm);\r\n  var algo = (match[1] || match[3]).toLowerCase();\r\n  var bits = match[2];\r\n\r\n  return {\r\n    sign: signerFactories[algo](bits),\r\n    verify: verifierFactories[algo](bits),\r\n  }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}